<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cross Art | Арт бук</title>

	<link rel="stylesheet" href="/CrossART__ArtBook/css/globalStyle.css">
	<link rel="stylesheet" href="/CrossART__ArtBook/css/main.css">
	<style>
		.book {
			padding: 5px;
			box-shadow: 0px 4px 8px #000;
			display: flex;
			overflow: hidden;
		}
		.book > img {
			width: 100%;
			height: 100%;
			transition: .3s;
		}
		.navigation {
			display: flex;
			position: absolute;
			bottom: 30px;
		}
		.navigation > button,
		.navigation > span{
			background-color: #222;
			outline: none;
			border: none;
			padding: 10px 25px;
			font-size: 16px;
			color: #fff;
			font-weight: 700;
			border-radius: 20px;
			margin: 0px 5px;
		}
	</style>
</head>
<body style="background-image: url('/CrossART__ArtBook/img/ArtBook/Back-wood.png'); background-size: 100% 70%; background-position: center; width: 100%; overflow: hidden;">
	<main id="main" style="width: 100%; height: 100vh; margin: 0;">
		<div class="container" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
			<div class="bookmarks" style="position: absolute; top: 23%; left: 50%; transform: translate(-50%, -50%); width: 100%; margin-left: 10px;">
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Introduction">Вступление</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap1">1</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap2">2</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap3">3</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap4">4</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap5">5</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap6">6</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap7">7</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap8">8</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap9">9</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap10">10</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap11">11</button>
				<button style="padding: 5px; margin: 2.5px;" class="arrow" id="Chap12">12</button>
			</div>
			<div class="book">
				<img src="../chapters/Introduction/Page-1.webp" alt="" id="image-1" style="margin-left: 0%;">
				<img src="../chapters/Introduction/Page-2.webp" alt="" id="image-2">
				<img src="../chapters/Introduction/Page-3.webp" alt="" id="image-3">
				<img src="../chapters/Introduction/Page-4.webp" alt="" id="image-4">
				<img src="../chapters/Introduction/Page-5.webp" alt="" id="image-5">
			</div>
			<div class="navigation">
				<button id="left"><</button>
				<button id="right">></button>
			</div>
		</div>
	</main>
	<footer id="footer"></footer>
	<script>
		let count = document.querySelector(".book").childElementCount;
		count -= 1;

		let image = document.getElementById('image-' + 1)
		let left = document.getElementById('left')
		let right = document.getElementById('right')

		let page_num = document.getElementById('page-num')
		
		if(sessionStorage.getItem('isFirstPage') === 'false'){
			image.style.marginLeft = '-' + count + '00%'
		}else if(sessionStorage.getItem('isFirstPage') === 'true'){
			image.style.marginLeft = '0%'
		}
		
		const positions = ['0%'];

		for(let i = 1; i <= count; i++){
			positions.push('-' + i + '00%',)
		}

		left.onclick = function() {
		    let index = positions.indexOf(image.style.marginLeft);
		    if (index === -1) return;
		    index = index > 0 ? index - 1 : 0;
		    image.style.marginLeft = positions[index];
		}

		right.onclick = function() {
			if(image.style.marginLeft === '-' + count + '00%'){
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-1.html'
				sessionStorage.setItem('isFirstPage', 'true')
			}else{
			    let index = positions.indexOf(image.style.marginLeft);
			    if (index === -1) return;
			    index = index < positions.length - 1 ? index + 1 : positions.length - 1;
			    image.style.marginLeft = positions[index];
			}
		}
			document.getElementById('Introduction').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/index.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap1').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-1.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap2').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-2.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap3').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-3.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap4').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-4.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap5').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-5.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap6').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-6.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap7').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-7.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap8').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-8.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap9').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-9.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap10').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-10.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});

			document.getElementById('Chap11').addEventListener('click', function() {
				window.location.href = '/CrossART__ArtBook/Mobile/chapter-11.html'
			    sessionStorage.setItem('isFirstPage', 'true')
			});
	</script>
</body>
</html>